import{m as M,a as T,g as C,b as I,_ as w}from"./api-E-lA3iZK.js";import{g as S,j as c,k as D,e as y,c as a,a as s,h as d,v as L,F as g,d as k,t as l,l as N,b as R,u as b,w as $,r as B,f as h,o as t,m as P,n as V,i as x}from"./index-CJf4twLl.js";import{u as A}from"./movies-CooaszTu.js";const F={class:"flex flex-col lg:flex-row gap-12 items-center max-w-6xl w-full bg-white/70 backdrop-blur-md border border-gray-200/60 shadow-md rounded-xl p-8 transition"},O={class:"shrink-0"},j={key:0,class:"loading loading-ring loading-lg text-primary"},G=["src"],z={class:"flex-1"},E={class:"text-4xl font-bold text-gray-800 mb-2"},U={class:"text-gray-400 text-lg font-normal"},W={class:"text-gray-400 text-lg font-normal"},q={key:0,class:"italic text-gray-500 mb-2"},H={key:1,class:"italic text-gray-500 mb-2"},J={class:"text-gray-600 leading-relaxed mb-6"},K={class:"flex flex-wrap gap-2 mb-6"},Q={key:0,class:"px-3 py-1 rounded-md text-sm bg-linear-to-r from-gray-100 to-gray-200 text-gray-700 border border-gray-300"},X={key:1,class:"px-3 py-1 rounded-md text-sm bg-linear-to-r from-gray-100 to-gray-200 text-gray-700 border border-gray-300"},Y={class:"card-actions"},Z=S({__name:"MediaDetails",props:{type:{},media:{},movie:{},tvSeries:{}},setup(f){const e=f,n=c(!1),r=A(),m=D(()=>e.type==="movie"&&e.movie?r.mediaList.some(o=>o.Id===e.movie.Id):e.type==="tv"&&e.tvSeries?r.mediaList.some(o=>o.Id===e.tvSeries.Id):!1);return(o,i)=>{const u=B("RouterLink"),p=h("auto-animate"),_=h("motion-fade-visible-once");return y((t(),a("div",F,[s("figure",O,[n.value?d("",!0):(t(),a("span",j)),y(s("img",{src:f.type==="movie"?"https://image.tmdb.org/t/p/w500"+e.movie.PosterPath:"https://image.tmdb.org/t/p/w500"+e.tvSeries.PosterPath,alt:"Poster",class:"w-full max-w-sm rounded-lg shadow-lg transform transition-transform duration-500 hover:scale-105",onLoad:i[0]||(i[0]=v=>n.value=!0)},null,40,G),[[L,n.value]])]),s("div",z,[s("h1",E,[e.type==="movie"?(t(),a(g,{key:0},[k(l(e.movie.Title)+" ",1),s("span",U,"("+l(e.movie.ReleaseDate?.slice(0,4))+")",1)],64)):(t(),a(g,{key:1},[k(l(e.tvSeries.Name)+" ",1),s("span",W,"("+l(e.tvSeries.FirstAirDate?.slice(0,4))+")",1)],64))]),e.type==="movie"&&e.movie.Tagline?(t(),a("p",q,l(e.movie.Tagline),1)):d("",!0),e.type==="tv"&&e.tvSeries.Tagline?(t(),a("p",H,l(e.tvSeries.Tagline),1)):d("",!0),s("p",J,l(e.type==="movie"?e.movie.Overview:e.tvSeries.Overview),1),s("div",K,[(t(!0),a(g,null,N(e.type==="movie"?e.movie.Genres:e.tvSeries.Genres,v=>(t(),a("span",{key:v.id,class:"px-3 py-1 rounded-md text-sm bg-linear-to-r from-gray-100 to-gray-200 text-gray-700 border border-gray-300"},l(v.name),1))),128)),e.type==="movie"?(t(),a("span",Q," Runtime: "+l(e.movie.Runtime)+" min ",1)):d("",!0),e.type==="tv"?(t(),a("span",X," Seasons: "+l(e.tvSeries.NumberOfSeasons),1)):d("",!0)]),y((t(),a("div",Y,[e.movie&&e.media||e.tvSeries&&e.media?(t(),a(g,{key:0},[m.value?(t(),a("button",{key:1,class:"btn px-6 bg-linear-to-r from-red-50 to-red-100 border border-red-200 text-red-600 hover:from-red-100 hover:to-red-200",onClick:i[2]||(i[2]=v=>b(r).removeMedia(e.media.Id))}," Remove from library ")):(t(),a("button",{key:0,class:"btn px-6 bg-linear-to-r from-gray-100 to-gray-200 border border-gray-300 text-gray-700 hover:from-gray-200 hover:to-gray-300",onClick:i[1]||(i[1]=v=>b(r).addMedia(e.media))}," Add to list "))],64)):d("",!0),R(u,{to:{name:"watch",params:{name:e.type==="movie"?e.movie.Title:e.tvSeries.Name,id:e.type==="movie"?e.movie.Id:e.tvSeries.Id}}},{default:$(()=>[...i[3]||(i[3]=[s("button",{class:"btn relative flex items-center gap-2 px-6 bg-linear-to-r from-indigo-500 to-violet-500 text-white border-0 shadow-md hover:opacity-90 transition"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{"fill-rule":"evenodd",d:"M6.5 5.5a1 1 0 0 1 1.52-.85l6 4.5a1 1 0 0 1 0 1.7l-6 4.5A1 1 0 0 1 6.5 14.5v-9z","clip-rule":"evenodd"})]),s("span",null,"Watch"),s("span",{class:"badge badge-sm badge-secondary absolute -top-2 -right-2"},"Beta")],-1)])]),_:1},8,["to"])])),[[p]])])])),[[_]])}}}),ee={class:"container mx-auto px-4 py-8"},te={key:1,class:"flex justify-center items-center"},re=S({__name:"DetailsView",setup(f){const e=V(),n=c(null),r=c(null),m=c(!1),o=c(null),i=D(()=>n.value?M(n.value):r.value?T(r.value):void 0);return P(async()=>{if(!e.params.id||!e.params.type){o.value="Invalid route parameters";return}m.value=!0,o.value=null;try{e.params.type==="movie"?n.value=await C(e.params.id):e.params.type==="tv"?r.value=await I(e.params.id):o.value="Unsupported media type"}catch(u){console.error(u),o.value="Failed to load media details"}finally{m.value=!1}}),(u,p)=>{const _=h("motion-fade-visible-once");return t(),a("div",ee,[o.value?(t(),x(w,{key:0,message:o.value},null,8,["message"])):m.value?(t(),a("div",te,[...p[0]||(p[0]=[s("span",{class:"loading loading-ring loading-lg text-primary"},null,-1)])])):n.value||r.value?y((t(),x(Z,{key:2,type:b(e).params.type==="movie"?"movie":"tv",media:i.value,movie:n.value,"tv-series":r.value},null,8,["type","media","movie","tv-series"])),[[_]]):(t(),x(w,{key:3,message:"Could not find media"}))])}}});export{re as default};
