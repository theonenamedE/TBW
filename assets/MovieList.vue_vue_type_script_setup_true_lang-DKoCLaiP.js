import{_ as j,e as d,i as B,o,w as f,a as r,r as b,f as _,g as C,j as k,k as w,c as a,b as c,h as g,v as L,t as M,u as $,d as v,F as S,l as I}from"./index-CJf4twLl.js";import{u as A}from"./movies-CooaszTu.js";const N={};function T(u,t){const s=b("router-link"),n=_("motion-fade-visible-once");return d((o(),B(s,{to:"/add",class:"card relative w-full h-full flex items-center justify-center aspect-2/3 bg-white/40 backdrop-blur-md border-2 border-dashed border-gray-300 rounded-lg shadow-sm hover:shadow-md hover:border-gray-400 transition-all duration-300"},{default:f(()=>[...t[0]||(t[0]=[r("div",{class:"flex flex-col items-center justify-center text-gray-400 hover:text-gray-600 transition"},[r("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-16 h-16 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4v16m8-8H4"})]),r("span",{class:"text-lg font-semibold"},"Add More")],-1)])]),_:1})),[[n]])}const D=j(N,[["render",T]]),P={class:"card relative w-full h-full overflow-hidden bg-white/70 backdrop-blur-md border border-gray-200/60 shadow-md hover:shadow-xl transition-all duration-300"},R={class:"overflow-hidden flex items-center justify-center aspect-2/3 bg-gray-50"},V={key:0,class:"loading loading-ring loading-lg text-primary"},F={key:1,class:"flex items-center justify-center"},E=["src","alt"],H={class:"card-body p-4 flex flex-col"},Z={class:"card-title text-base font-semibold bg-linear-to-r from-gray-700 to-gray-500 bg-clip-text text-transparent"},q={class:"text-sm text-gray-400"},z={class:"card-actions justify-end mt-auto"},G=C({__name:"MediaCard",props:{movie:{}},setup(u){const t=u,s=A(),n=k(!1),l=k(!1),i=w(()=>s.mediaList.some(m=>m.Id===t.movie.Id)),p=w(()=>t.movie.PosterPath?`https://image.tmdb.org/t/p/w300${t.movie.PosterPath}`:"");return(m,e)=>{const x=b("router-link"),y=_("motion-fade-visible-once");return d((o(),a("div",P,[c(x,{to:{name:"details",params:{type:t.movie.MediaType,id:t.movie.Id}}},{default:f(()=>[r("figure",R,[l.value?n.value?(o(),a("div",F,[...e[4]||(e[4]=[r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-12 h-12 text-gray-300"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})],-1)])])):g("",!0):(o(),a("span",V)),d(r("img",{src:p.value,alt:t.movie.Title,class:"object-cover w-full h-full transform transition-transform duration-500 hover:scale-105",onLoad:e[0]||(e[0]=h=>l.value=!0),onError:e[1]||(e[1]=()=>{n.value=!0,l.value=!0})},null,40,E),[[L,l.value&&!n.value]])])]),_:1},8,["to"]),r("div",H,[c(x,{to:{name:"details",params:{type:t.movie.MediaType,id:t.movie.Id}}},{default:f(()=>[r("h2",Z,M(t.movie.Title),1),r("p",q,M(t.movie.ReleaseDate.slice(0,4)),1)]),_:1},8,["to"]),r("div",z,[i.value?d((o(),a("button",{key:1,class:"btn btn-sm px-4 bg-linear-to-r from-red-50 to-red-100 border border-red-200 text-red-600 hover:from-red-100 hover:to-red-200 hover:text-red-700 transition",onClick:e[3]||(e[3]=h=>$(s).removeMedia(t.movie.Id))},[...e[6]||(e[6]=[v(" Remove ",-1)])])),[[y]]):d((o(),a("button",{key:0,class:"btn btn-sm px-4 bg-linear-to-r from-gray-100 to-gray-200 border border-gray-300 text-gray-700 hover:from-gray-200 hover:to-gray-300 hover:text-gray-900 transition",onClick:e[2]||(e[2]=h=>$(s).addMedia(t.movie))},[...e[5]||(e[5]=[v(" Add ",-1)])])),[[y]])])])])),[[y]])}}}),J={key:0,class:"text-center text-gray-500 py-12 bg-gray-50/60 rounded-lg border border-gray-200"},K={key:1,class:"grid gap-4 grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5"},O={key:0},Q={key:2,class:"flex justify-center mt-8"},U=["disabled"],W={key:0,class:"loading loading-spinner loading-xs mr-2"},ee=C({__name:"MovieList",props:{movies:{},loadingMore:{type:Boolean},isSearch:{type:Boolean}},emits:["loaded","loadMore"],setup(u,{emit:t}){const s=u,n=t;return(l,i)=>{const p=b("RouterLink"),m=_("auto-animate");return o(),a("div",null,[s.movies.length===0?(o(),a("p",J,[i[2]||(i[2]=v(" No movies found.",-1)),i[3]||(i[3]=r("br",null,null,-1)),c(p,{to:"/add",class:"text-gray-700 font-semibold hover:text-gray-900 transition"},{default:f(()=>[...i[1]||(i[1]=[v(" Add a movie ",-1)])]),_:1})])):d((o(),a("ul",K,[(o(!0),a(S,null,I(s.movies,e=>d((o(),a("li",{key:e.Id},[c(G,{movie:e},null,8,["movie"])])),[[m]])),128)),s.isSearch?g("",!0):(o(),a("li",O,[c(D)]))])),[[m]]),s.isSearch&&s.movies.length>0?(o(),a("div",Q,[r("button",{class:"btn px-6 bg-linear-to-r from-gray-100 to-gray-200 border border-gray-300 text-gray-700 hover:from-gray-200 hover:to-gray-300 hover:text-gray-900 disabled:opacity-50",onClick:i[0]||(i[0]=e=>n("loadMore")),disabled:s.loadingMore},[s.loadingMore?(o(),a("span",W)):g("",!0),i[4]||(i[4]=v(" Load more ",-1))],8,U)])):g("",!0)])}}});export{ee as _};
