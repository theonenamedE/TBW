import{g as f,j as y,k as w,e as m,c as a,a as t,h as d,v as S,F as g,d as x,t as o,l as k,b as D,w as L,r as N,f as _,o as s,m as T,n as B,u,i as I}from"./index-zTwHXCNz.js";import{u as R}from"./movies-BBD92Bgf.js";import{g as C,a as M}from"./api-C-KgH05w.js";const P={class:"flex flex-col lg:flex-row gap-12 items-center max-w-6xl w-full bg-white/70 backdrop-blur-md border border-gray-200/60 shadow-md rounded-xl p-8 transition"},V={class:"flex-shrink-0"},$={key:0,class:"loading loading-ring loading-lg text-primary"},F=["src"],O={class:"flex-1"},j={class:"text-4xl font-bold text-gray-800 mb-2"},A={class:"text-gray-400 text-lg font-normal"},G={class:"text-gray-400 text-lg font-normal"},z={key:0,class:"italic text-gray-500 mb-2"},E={key:1,class:"italic text-gray-500 mb-2"},W={class:"text-gray-600 leading-relaxed mb-6"},q={class:"flex flex-wrap gap-2 mb-6"},H={key:0,class:"px-3 py-1 rounded-md text-sm bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 border border-gray-300"},J={key:1,class:"px-3 py-1 rounded-md text-sm bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 border border-gray-300"},K={class:"card-actions"},Q=f({__name:"MediaDetails",props:{type:{},movie:{},tvSeries:{}},setup(v){const e=v,r=y(!1),i=R();return w(()=>e.type==="movie"&&e.movie?i.mediaList.some(n=>n.Id===e.movie.Id):e.type==="tv"&&e.tvSeries?i.mediaList.some(n=>n.Id===e.tvSeries.Id):!1),(n,l)=>{const c=N("RouterLink"),h=_("auto-animate"),b=_("motion-fade-visible-once");return m((s(),a("div",P,[t("figure",V,[r.value?d("",!0):(s(),a("span",$)),m(t("img",{src:v.type==="movie"?"https://image.tmdb.org/t/p/w500"+e.movie.PosterPath:"https://image.tmdb.org/t/p/w500"+e.tvSeries.PosterPath,alt:"Poster",class:"w-full max-w-sm rounded-lg shadow-lg transform transition-transform duration-500 hover:scale-105",onLoad:l[0]||(l[0]=p=>r.value=!0)},null,40,F),[[S,r.value]])]),t("div",O,[t("h1",j,[e.type==="movie"?(s(),a(g,{key:0},[x(o(e.movie.Title)+" ",1),t("span",A,"("+o(e.movie.ReleaseDate?.slice(0,4))+")",1)],64)):(s(),a(g,{key:1},[x(o(e.tvSeries.Name)+" ",1),t("span",G,"("+o(e.tvSeries.FirstAirDate?.slice(0,4))+")",1)],64))]),e.type==="movie"&&e.movie.Tagline?(s(),a("p",z,o(e.movie.Tagline),1)):d("",!0),e.type==="tv"&&e.tvSeries.Tagline?(s(),a("p",E,o(e.tvSeries.Tagline),1)):d("",!0),t("p",W,o(e.type==="movie"?e.movie.Overview:e.tvSeries.Overview),1),t("div",q,[(s(!0),a(g,null,k(e.type==="movie"?e.movie.Genres:e.tvSeries.Genres,p=>(s(),a("span",{key:p.id,class:"px-3 py-1 rounded-md text-sm bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 border border-gray-300"},o(p.name),1))),128)),e.type==="movie"?(s(),a("span",H," Runtime: "+o(e.movie.Runtime)+" min ",1)):d("",!0),e.type==="tv"?(s(),a("span",J," Seasons: "+o(e.tvSeries.NumberOfSeasons),1)):d("",!0)]),m((s(),a("div",K,[D(c,{to:{name:"watch",params:{name:e.type==="movie"?e.movie.Title:e.tvSeries.Name,id:e.type==="movie"?e.movie.Id:e.tvSeries.Id}}},{default:L(()=>[...l[1]||(l[1]=[t("button",{class:"btn relative flex items-center gap-2 px-6 bg-gradient-to-r from-indigo-500 to-violet-500 text-white border-0 shadow-md hover:opacity-90 transition"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M6.5 5.5a1 1 0 0 1 1.52-.85l6 4.5a1 1 0 0 1 0 1.7l-6 4.5A1 1 0 0 1 6.5 14.5v-9z","clip-rule":"evenodd"})]),t("span",null,"Watch"),t("span",{class:"badge badge-sm badge-secondary absolute -top-2 -right-2"},"Beta")],-1)])]),_:1},8,["to"])])),[[h]])])])),[[b]])}}}),U={class:"container mx-auto px-4 py-8"},X={key:0,class:"flex justify-center items-center"},te=f({__name:"DetailsView",setup(v){const e=B(),r=y(),i=y();return T(async()=>{try{e.params.id&&e.params.type==="movie"?r.value=await C(e.params.id):e.params.id&&e.params.type==="tv"&&(i.value=await M(e.params.id))}catch(n){console.error(n)}}),(n,l)=>{const c=_("motion-fade-visible-once");return s(),a("div",U,[u(e).params.type==="movie"&&!r.value||u(e).params.type==="tv"&&!i.value?(s(),a("div",X,[...l[0]||(l[0]=[t("span",{class:"loading loading-ring loading-lg text-primary"},null,-1)])])):d("",!0),r.value||i.value?m((s(),I(Q,{key:1,type:u(e).params.type||void 0,movie:r.value,"tv-series":i.value},null,8,["type","movie","tv-series"])),[[c]]):d("",!0)])}}});export{te as default};
