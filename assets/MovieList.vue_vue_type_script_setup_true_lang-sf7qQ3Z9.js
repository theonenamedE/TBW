import{g as k,h as I,l as M,r as w,f as D,e as a,c as r,o as s,b as v,a as i,w as p,j as f,v as $,t as _,u as h,d as l,F as C,q as L}from"./index-BYDeYLql.js";import{u as j}from"./movies-K4hNWLkN.js";const B={class:"card relative w-full h-full overflow-hidden bg-white/70 backdrop-blur-md border border-gray-200/60 shadow-md hover:shadow-xl transition-all duration-300"},N={class:"overflow-hidden flex items-center justify-center aspect-[2/3] bg-gray-50"},S={key:0,class:"loading loading-ring loading-lg text-primary"},V={key:1,class:"flex items-center justify-center"},A=["src","alt"],F={class:"card-body p-4 flex flex-col"},R={class:"card-title text-base font-semibold bg-gradient-to-r from-gray-700 to-gray-500 bg-clip-text text-transparent"},T={class:"text-sm text-gray-400"},E={class:"card-actions justify-end mt-auto"},Z=k({__name:"MovieCard",props:{movie:{},loading:{type:Boolean}},emits:["loaded"],setup(u,{emit:c}){const e=u,n=c,m=j(),t=I(!1),b=M(()=>m.movieList.some(d=>d.imdbID===e.movie.imdbID));return(d,o)=>{const g=w("router-link"),y=D("motion-fade-visible-once");return a((s(),r("div",B,[v(g,{to:{name:"details",params:{id:e.movie.imdbID}}},{default:p(()=>[i("figure",N,[e.loading?(s(),r("span",S)):t.value?(s(),r("div",V,[...o[4]||(o[4]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-12 h-12 text-gray-300"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})],-1)])])):f("",!0),a(i("img",{src:e.movie.Poster,alt:e.movie.Title,class:"object-cover w-full h-full transform transition-transform duration-500 hover:scale-105",onLoad:o[0]||(o[0]=x=>n("loaded",e.movie.imdbID)),onError:o[1]||(o[1]=()=>{t.value=!0,n("loaded",e.movie.imdbID)})},null,40,A),[[$,!e.loading&&!t.value]])])]),_:1},8,["to"]),i("div",F,[v(g,{to:{name:"details",params:{id:e.movie.imdbID}}},{default:p(()=>[i("h2",R,_(e.movie.Title),1),i("p",T,_(e.movie.Year),1)]),_:1},8,["to"]),i("div",E,[b.value?a((s(),r("button",{key:1,class:"btn btn-sm px-4 bg-gradient-to-r from-red-50 to-red-100 border border-red-200 text-red-600 hover:from-red-100 hover:to-red-200 hover:text-red-700 transition",onClick:o[3]||(o[3]=x=>h(m).removeMovie(e.movie.imdbID))},[...o[6]||(o[6]=[l(" Remove ",-1)])])),[[y]]):a((s(),r("button",{key:0,class:"btn btn-sm px-4 bg-gradient-to-r from-gray-100 to-gray-200 border border-gray-300 text-gray-700 hover:from-gray-200 hover:to-gray-300 hover:text-gray-900 transition",onClick:o[2]||(o[2]=x=>h(m).addMovie(e.movie))},[...o[5]||(o[5]=[l(" Add ",-1)])])),[[y]])])])])),[[y]])}}}),q={key:0,class:"text-center text-gray-500 py-12 bg-gray-50/60 rounded-lg border border-gray-200"},H={key:1,class:"grid gap-4 grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5"},P={key:2,class:"flex justify-center mt-8"},Y=["disabled"],z={key:0,class:"loading loading-spinner loading-xs mr-2"},K=k({__name:"MovieList",props:{movies:{},loadingImages:{},loadingMore:{type:Boolean},isSearch:{type:Boolean}},emits:["loaded","loadMore"],setup(u,{emit:c}){const e=u,n=c;return(m,t)=>{const b=w("RouterLink"),d=D("auto-animate");return s(),r("div",null,[e.movies.length===0?(s(),r("p",q,[t[3]||(t[3]=l(" No movies found.",-1)),t[4]||(t[4]=i("br",null,null,-1)),v(b,{to:"/add",class:"text-gray-700 font-semibold hover:text-gray-900 transition"},{default:p(()=>[...t[2]||(t[2]=[l(" Add a movie ",-1)])]),_:1})])):a((s(),r("ul",H,[(s(!0),r(C,null,L(e.movies,o=>a((s(),r("li",{key:o.imdbID},[v(Z,{movie:o,loading:e.loadingImages[o.imdbID],onLoaded:t[0]||(t[0]=g=>n("loaded",g))},null,8,["movie","loading"])])),[[d]])),128))])),[[d]]),e.isSearch&&e.movies.length>0?(s(),r("div",P,[i("button",{class:"btn px-6 bg-gradient-to-r from-gray-100 to-gray-200 border border-gray-300 text-gray-700 hover:from-gray-200 hover:to-gray-300 hover:text-gray-900 disabled:opacity-50",onClick:t[1]||(t[1]=o=>n("loadMore")),disabled:e.loadingMore},[e.loadingMore?(s(),r("span",z)):f("",!0),t[5]||(t[5]=l(" Load more ",-1))],8,Y)])):f("",!0)])}}});export{K as _};
