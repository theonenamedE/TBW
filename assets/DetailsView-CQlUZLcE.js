import{g as _,h as b,l as w,c as a,F as k,k as D,j as u,e as l,a as o,v as C,d as M,t as n,b as f,u as p,r as L,w as B,f as m,o as s,i as R,m as I}from"./index-JMA1y--N.js";import{_ as $,g as E}from"./api-BPmMVses.js";import{u as P}from"./movies-HZaYi8pY.js";const T={key:1,class:"flex justify-center items-center"},V={key:2,class:"flex flex-col lg:flex-row gap-12 items-center max-w-6xl w-full bg-white/70 backdrop-blur-md border border-gray-200/60 shadow-md rounded-xl p-8 transition"},N={class:"flex-shrink-0"},A={key:0,class:"loading loading-ring loading-lg text-primary"},S=["src"],j={class:"flex-1"},F={class:"text-4xl font-bold text-gray-800 mb-4"},Y={class:"text-gray-400 text-lg font-normal"},z={class:"text-gray-600 leading-relaxed mb-6"},W={class:"flex flex-wrap gap-2 mb-6"},q={class:"px-3 py-1 rounded-md text-sm bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 border border-gray-300"},G={class:"px-3 py-1 rounded-md text-sm bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 border border-gray-300"},H={class:"px-3 py-1 rounded-md text-sm bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 border border-gray-300"},J={class:"card-actions"},K=_({__name:"MovieDetails",props:{movie:{}},setup(c){const e=c,i=b(!1),r=P(),g=w(()=>e.movie?r.movieList.some(d=>d.imdbID===e.movie.imdbID):!1);return(d,t)=>{const x=L("RouterLink"),y=m("auto-animate"),h=m("motion-fade-visible-once");return s(),a(k,null,[e.movie?.Error?(s(),D($,{key:0,message:e.movie.ErrorMessage},null,8,["message"])):u("",!0),e.movie===void 0?(s(),a("div",T,[...t[3]||(t[3]=[o("span",{class:"loading loading-ring loading-lg text-primary"},null,-1)])])):l((s(),a("div",V,[o("figure",N,[i.value?u("",!0):(s(),a("span",A)),l(o("img",{src:e.movie.Poster,alt:"Poster",class:"w-full max-w-sm rounded-lg shadow-lg transform transition-transform duration-500 hover:scale-105",onLoad:t[0]||(t[0]=v=>i.value=!0)},null,40,S),[[C,i.value]])]),o("div",j,[o("h1",F,[M(n(e.movie.Title)+" ",1),o("span",Y,"("+n(e.movie.Year)+")",1)]),o("p",z,n(e.movie.Plot),1),o("div",W,[o("span",q," Language: "+n(e.movie.Language),1),o("span",G," Country: "+n(e.movie.Country),1),o("span",H," IMDB Rating: "+n(e.movie.imdbRating),1)]),l((s(),a("div",J,[g.value?(s(),a("button",{key:1,class:"btn px-6 bg-gradient-to-r from-red-50 to-red-100 border border-red-200 text-red-600 hover:from-red-100 hover:to-red-200",onClick:t[2]||(t[2]=v=>p(r).removeMovie(e.movie.imdbID))}," Remove from library ")):(s(),a("button",{key:0,class:"btn px-6 bg-gradient-to-r from-gray-100 to-gray-200 border border-gray-300 text-gray-700 hover:from-gray-200 hover:to-gray-300",onClick:t[1]||(t[1]=v=>p(r).addMovie(e.movie))}," Add to list ")),f(x,{to:{name:"watch",params:{name:e.movie.Title,id:e.movie.imdbID}}},{default:B(()=>[...t[4]||(t[4]=[o("button",{class:"btn relative flex items-center gap-2 px-6 bg-gradient-to-r from-indigo-500 to-violet-500 text-white border-0 shadow-md hover:opacity-90 transition"},[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[o("path",{"fill-rule":"evenodd",d:"M6.5 5.5a1 1 0 0 1 1.52-.85l6 4.5a1 1 0 0 1 0 1.7l-6 4.5A1 1 0 0 1 6.5 14.5v-9z","clip-rule":"evenodd"})]),o("span",null,"Watch"),o("span",{class:"badge badge-sm badge-secondary absolute -top-2 -right-2"},"Beta")],-1)])]),_:1},8,["to"])])),[[y]])])])),[[h]])],64)}}}),O={class:"container mx-auto px-4 py-8"},Z=_({__name:"DetailsView",setup(c){const e=I(),i=b();return R(async()=>{try{const r=await E(e.params.id);i.value=r}catch(r){console.error(r),i.value={Title:"",Year:"",imdbID:"",Type:"",Poster:"",Plot:"",Language:"",Country:"",imdbRating:"",Error:!0,ErrorMessage:r.message}}}),(r,g)=>{const d=m("motion-fade-visible-once");return s(),a("div",O,[l(f(K,{movie:i.value},null,8,["movie"]),[[d]])])}}});export{Z as default};
