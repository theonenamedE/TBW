import{g as w,h as M,l as $,r as D,f as y,e as a,c as r,o as s,b as v,a as i,w as f,j as p,v as C,t as h,u as k,d as l,F as L,q as j}from"./index-Cw4ALOtH.js";import{u as B}from"./movies-DpwHlLoQ.js";const N={class:"card relative w-full h-full overflow-hidden bg-white/70 backdrop-blur-md border border-gray-200/60 shadow-md hover:shadow-xl transition-all duration-300"},S={class:"overflow-hidden flex items-center justify-center aspect-[2/3] bg-gray-50"},V={key:0,class:"loading loading-ring loading-lg text-primary"},A={key:1,class:"flex items-center justify-center"},F=["src","alt"],R={class:"card-body p-4 flex flex-col"},T={class:"card-title text-base font-semibold bg-gradient-to-r from-gray-700 to-gray-500 bg-clip-text text-transparent"},E={class:"text-sm text-gray-400"},Z={class:"card-actions justify-end mt-auto"},q=w({__name:"MovieCard",props:{movie:{},loading:{type:Boolean}},emits:["loaded"],setup(u,{emit:c}){const e=u,n=c,m=B(),t=M(!1),b=$(()=>m.movieList.some(d=>d.imdbID===e.movie.imdbID));return(d,o)=>{const g=D("router-link"),_=y("motion-fade-visible"),I=y("motion-fade-visible-once");return a((s(),r("div",N,[v(g,{to:{name:"details",params:{id:e.movie.imdbID}}},{default:f(()=>[i("figure",S,[e.loading?(s(),r("span",V)):t.value?(s(),r("div",A,[...o[4]||(o[4]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-12 h-12 text-gray-300"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})],-1)])])):p("",!0),a(i("img",{src:e.movie.Poster,alt:e.movie.Title,class:"object-cover w-full h-full transform transition-transform duration-500 hover:scale-105",onLoad:o[0]||(o[0]=x=>n("loaded",e.movie.imdbID)),onError:o[1]||(o[1]=()=>{t.value=!0,n("loaded",e.movie.imdbID)})},null,40,F),[[C,!e.loading&&!t.value]])])]),_:1},8,["to"]),i("div",R,[v(g,{to:{name:"details",params:{id:e.movie.imdbID}}},{default:f(()=>[i("h2",T,h(e.movie.Title),1),i("p",E,h(e.movie.Year),1)]),_:1},8,["to"]),i("div",Z,[b.value?a((s(),r("button",{key:1,class:"btn btn-sm px-4 bg-gradient-to-r from-red-50 to-red-100 border border-red-200 text-red-600 hover:from-red-100 hover:to-red-200 hover:text-red-700 transition",onClick:o[3]||(o[3]=x=>k(m).removeMovie(e.movie.imdbID))},[...o[6]||(o[6]=[l(" Remove ",-1)])])),[[_]]):a((s(),r("button",{key:0,class:"btn btn-sm px-4 bg-gradient-to-r from-gray-100 to-gray-200 border border-gray-300 text-gray-700 hover:from-gray-200 hover:to-gray-300 hover:text-gray-900 transition",onClick:o[2]||(o[2]=x=>k(m).addMovie(e.movie))},[...o[5]||(o[5]=[l(" Add ",-1)])])),[[_]])])])])),[[I]])}}}),H={key:0,class:"text-center text-gray-500 py-12 bg-gray-50/60 rounded-lg border border-gray-200"},P={key:1,class:"grid gap-4 grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5"},Y={key:2,class:"flex justify-center mt-8"},z=["disabled"],G={key:0,class:"loading loading-spinner loading-xs mr-2"},O=w({__name:"MovieList",props:{movies:{},loadingImages:{},loadingMore:{type:Boolean},isSearch:{type:Boolean}},emits:["loaded","loadMore"],setup(u,{emit:c}){const e=u,n=c;return(m,t)=>{const b=D("RouterLink"),d=y("auto-animate");return s(),r("div",null,[e.movies.length===0?(s(),r("p",H,[t[3]||(t[3]=l(" No movies found.",-1)),t[4]||(t[4]=i("br",null,null,-1)),v(b,{to:"/add",class:"text-gray-700 font-semibold hover:text-gray-900 transition"},{default:f(()=>[...t[2]||(t[2]=[l(" Add a movie ",-1)])]),_:1})])):a((s(),r("ul",P,[(s(!0),r(L,null,j(e.movies,o=>a((s(),r("li",{key:o.imdbID},[v(q,{movie:o,loading:e.loadingImages[o.imdbID],onLoaded:t[0]||(t[0]=g=>n("loaded",g))},null,8,["movie","loading"])])),[[d]])),128))])),[[d]]),e.isSearch&&e.movies.length>0?(s(),r("div",Y,[i("button",{class:"btn px-6 bg-gradient-to-r from-gray-100 to-gray-200 border border-gray-300 text-gray-700 hover:from-gray-200 hover:to-gray-300 hover:text-gray-900 disabled:opacity-50",onClick:t[1]||(t[1]=o=>n("loadMore")),disabled:e.loadingMore},[e.loadingMore?(s(),r("span",G)):p("",!0),t[5]||(t[5]=l(" Load more ",-1))],8,z)])):p("",!0)])}}});export{O as _};
