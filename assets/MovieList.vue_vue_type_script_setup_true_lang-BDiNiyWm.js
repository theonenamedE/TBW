import{_ as C,e as d,i as $,o as r,w as f,a as o,r as y,f as _,g as M,j as h,k as j,c as n,b as v,h as p,v as D,t as k,u as w,d as c,F as B,q as L}from"./index-BpwJ6Idf.js";import{u as I}from"./movies-CPyq353D.js";const A={};function N(u,t){const s=y("router-link"),a=_("motion-fade-visible-once");return d((r(),$(s,{to:"/add",class:"card relative w-full h-full flex items-center justify-center aspect-[2/3] bg-white/40 backdrop-blur-md border-2 border-dashed border-gray-300 rounded-lg shadow-sm hover:shadow-md hover:border-gray-400 transition-all duration-300"},{default:f(()=>[...t[0]||(t[0]=[o("div",{class:"flex flex-col items-center justify-center text-gray-400 hover:text-gray-600 transition"},[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-16 h-16 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4v16m8-8H4"})]),o("span",{class:"text-lg font-semibold"},"Add More")],-1)])]),_:1})),[[a]])}const S=C(A,[["render",N]]),V={class:"card relative w-full h-full overflow-hidden bg-white/70 backdrop-blur-md border border-gray-200/60 shadow-md hover:shadow-xl transition-all duration-300"},F={class:"overflow-hidden flex items-center justify-center aspect-[2/3] bg-gray-50"},R={key:0,class:"loading loading-ring loading-lg text-primary"},T={key:1,class:"flex items-center justify-center"},E=["src","alt"],H={class:"card-body p-4 flex flex-col"},Z={class:"card-title text-base font-semibold bg-gradient-to-r from-gray-700 to-gray-500 bg-clip-text text-transparent"},q={class:"text-sm text-gray-400"},P={class:"card-actions justify-end mt-auto"},Y=M({__name:"MovieCard",props:{movie:{}},setup(u){const t=u,s=I(),a=h(!1),m=h(!1),i=j(()=>s.movieList.some(g=>g.imdbID===t.movie.imdbID));return(g,e)=>{const l=y("router-link"),b=_("motion-fade-visible-once");return d((r(),n("div",V,[v(l,{to:{name:"details",params:{id:t.movie.imdbID}}},{default:f(()=>[o("figure",F,[m.value?a.value?(r(),n("div",T,[...e[4]||(e[4]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-12 h-12 text-gray-300"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})],-1)])])):p("",!0):(r(),n("span",R)),d(o("img",{src:t.movie.Poster,alt:t.movie.Title,class:"object-cover w-full h-full transform transition-transform duration-500 hover:scale-105",onLoad:e[0]||(e[0]=x=>m.value=!0),onError:e[1]||(e[1]=()=>{a.value=!0,m.value=!0})},null,40,E),[[D,m.value&&!a.value]])])]),_:1},8,["to"]),o("div",H,[v(l,{to:{name:"details",params:{id:t.movie.imdbID}}},{default:f(()=>[o("h2",Z,k(t.movie.Title),1),o("p",q,k(t.movie.Year),1)]),_:1},8,["to"]),o("div",P,[i.value?d((r(),n("button",{key:1,class:"btn btn-sm px-4 bg-gradient-to-r from-red-50 to-red-100 border border-red-200 text-red-600 hover:from-red-100 hover:to-red-200 hover:text-red-700 transition",onClick:e[3]||(e[3]=x=>w(s).removeMovie(t.movie.imdbID))},[...e[6]||(e[6]=[c(" Remove ",-1)])])),[[b]]):d((r(),n("button",{key:0,class:"btn btn-sm px-4 bg-gradient-to-r from-gray-100 to-gray-200 border border-gray-300 text-gray-700 hover:from-gray-200 hover:to-gray-300 hover:text-gray-900 transition",onClick:e[2]||(e[2]=x=>w(s).addMovie(t.movie))},[...e[5]||(e[5]=[c(" Add ",-1)])])),[[b]])])])])),[[b]])}}}),z={key:0,class:"text-center text-gray-500 py-12 bg-gray-50/60 rounded-lg border border-gray-200"},G={key:1,class:"grid gap-4 grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5"},J={key:2,class:"flex justify-center mt-8"},K=["disabled"],O={key:0,class:"loading loading-spinner loading-xs mr-2"},W=M({__name:"MovieList",props:{movies:{},loadingMore:{type:Boolean},isSearch:{type:Boolean}},emits:["loaded","loadMore"],setup(u,{emit:t}){const s=u,a=t;return(m,i)=>{const g=y("RouterLink"),e=_("auto-animate");return r(),n("div",null,[s.movies.length===0?(r(),n("p",z,[i[2]||(i[2]=c(" No movies found.",-1)),i[3]||(i[3]=o("br",null,null,-1)),v(g,{to:"/add",class:"text-gray-700 font-semibold hover:text-gray-900 transition"},{default:f(()=>[...i[1]||(i[1]=[c(" Add a movie ",-1)])]),_:1})])):d((r(),n("ul",G,[(r(!0),n(B,null,L(s.movies,l=>d((r(),n("li",{key:l.imdbID},[v(Y,{movie:l},null,8,["movie"])])),[[e]])),128)),o("li",null,[v(S)])])),[[e]]),s.isSearch&&s.movies.length>0?(r(),n("div",J,[o("button",{class:"btn px-6 bg-gradient-to-r from-gray-100 to-gray-200 border border-gray-300 text-gray-700 hover:from-gray-200 hover:to-gray-300 hover:text-gray-900 disabled:opacity-50",onClick:i[0]||(i[0]=l=>a("loadMore")),disabled:s.loadingMore},[s.loadingMore?(r(),n("span",O)):p("",!0),i[4]||(i[4]=c(" Load more ",-1))],8,K)])):p("",!0)])}}});export{W as _};
